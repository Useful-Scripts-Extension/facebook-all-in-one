import{aq as i}from"./index-BnkMA1vW.js";import{a as u,S as f,K as x}from"./MyApp-DltFDv_V.js";import{C as y}from"./Collection-PL0qv4MM.js";import{i as h}from"./icons-D6hzaHst.js";import{g as j,a as b}from"./stories-Bq4biQRX.js";import v from"./RecentStoryViewer-BTGqgP1B.js";import{g as c}from"./useCacheState-C8m9yt8v.js";import{L as w}from"./index-r3NfuVoX.js";import{I}from"./index-hIwuqtzz.js";import{T as m}from"./index-DOp_86p7.js";import"./index-B93MRbNd.js";import"./file-download-DqzXDEOW.js";import"./index-dzH3ms-r.js";import"./Dropdown-CzepKDlK.js";import"./PurePanel-3wTaHio6.js";import"./index-BeeTYsU2.js";import"./TextArea-DNgpE2Ze.js";import"./addEventListener-Btyl3Jj6.js";import"./StoryViewers-Bnm70uvY.js";import"./index-CUMb4MfP.js";import"./responsiveObserver-BdYfetC_.js";import"./useBreakpoint-WmbarIyy.js";import"./index-C9BuueIn.js";import"./Pagination-BLedMhPS.js";import"./row-CNmcWAX5.js";import"./styleChecker-CFcWfr8b.js";function X({target:r}){const{ti:a}=u(),s=(r==null?void 0:r.name)+" - Stories",p=async(o=[],n)=>{if(!(r!=null&&r.id))return;const{bucketId:t,firstStoryId:e}=await j(r==null?void 0:r.id);return!t||!e?[]:await b(t)},d=(o,n)=>i.jsx(w.Item,{children:i.jsxs(f,{direction:"vertical",style:{position:"relative"},children:[i.jsx(I,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:{destroyOnClose:!0,imageRender:()=>{var t,e;return i.jsx(v,{story:{bucket_id:(e=(t=c("Collection.data."+s))==null?void 0:t[0])==null?void 0:e.bucket_id,owner:r},bucketsData:c("Collection.data."+s)||[],index:n})},toolbarRender:()=>null}}),i.jsxs(m.Text,{children:[x(o.creation_time*1e3,a)," ",a({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(m.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:h.IGVideo})]})}),l=async(o,n)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(y,{collectionName:s,fetchNext:p,renderItem:d,downloadItem:l,rowKey:o=>o.id,once:!0})}export{X as default};
