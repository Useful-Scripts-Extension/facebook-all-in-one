import{aq as i}from"./index-iYEoUais.js";import{a as l,S as u,K as x}from"./MyApp-BeNpzLox.js";import{C as f}from"./Collection-DaglE94e.js";import{i as h}from"./icons-C0YHaTkJ.js";import{g as v,a as y}from"./stories-BSeYO_UV.js";import{L as j}from"./index-DGHtZYzy.js";import{I as b}from"./index-DYyTgVfs.js";import{T as a}from"./index-BDdtIE4G.js";import"./index-D5KKLovB.js";import"./file-download-DhHRyVA4.js";import"./useCacheState-DNofdqZ0.js";import"./index-ClPVugYd.js";import"./Dropdown-gPku7YVx.js";import"./PurePanel-C_6aPJ2n.js";import"./index-Dlm3U__6.js";import"./TextArea-CdxmgMaO.js";import"./addEventListener-vhFvsNOc.js";import"./Pagination-B3Pb7XGe.js";import"./useBreakpoint-BJS8X5fG.js";import"./responsiveObserver-CtJ0AXkr.js";import"./row-D4460SdQ.js";import"./styleChecker-BW8nSwfH.js";function W({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:d}=await v(r==null?void 0:r.id);if(!s||!d)return[];const n=await y(s);return console.log("bucket",n),n},p=(o,t)=>i.jsx(j.Item,{children:i.jsxs(u,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[x(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:h.IGVideo})]})}),m=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:p,downloadItem:m,rowKey:o=>o.id,once:!0})}export{W as default};
