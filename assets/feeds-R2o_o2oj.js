import{z as v,A as h,Z as C,_ as b,C as A,G as I}from"./MyApp-BycUN0_u.js";async function w(s="",t=""){const r=await v({fb_api_req_friendly_name:"CometSinglePostContentQuery",variables:{feedbackSource:2,feedLocation:"PERMALINK",focusCommentID:null,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"permalink",scale:2,storyID:btoa(`S:_I${s}:${t}:${t}`),useDefaultActor:!1,__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:!1,__relay_internal__pv__IsWorkUserrelayprovider:!1,__relay_internal__pv__IsMergQAPollsrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!0,__relay_internal__pv__IncludeCommentWithAttachmentrelayprovider:!0,__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:!0,__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:!1},doc_id:"8457098094310209"});return JSON.parse(r.split(`
`)[0]||"{}")}async function S(s="",t=""){const r=await v({fb_api_req_friendly_name:"CometAlbumPhotoCollagePaginationQuery",variables:{cursor:t,count:14,renderLocation:"permalink",scale:2,id:btoa(`mediaset:${s}`)},doc_id:"7250936985006590"}),u=JSON.parse(r),{edges:_=[],page_info:i={}}=h(u);return _.map(a=>{var l,d,c,m,p,n,e,f;return{id:(l=a.node)==null?void 0:l.id,image:(c=(d=a.node)==null?void 0:d.image)==null?void 0:c.uri,width:(p=(m=a.node)==null?void 0:m.image)==null?void 0:p.width,height:(e=(n=a.node)==null?void 0:n.image)==null?void 0:e.height,isVideo:((f=a.node)==null?void 0:f.__isMedia)==="Video",cursor:a.cursor}})}async function k(s=100,t,r){var l,d,c,m,p;let _="https://graph.facebook.com/v14.0/me/posts?fields=id,reactions.limit(1000){id},comments.limit(1000){from{id}},created_time&limit=100&access_token="+await C(b.EAAB);const i=[],a=new Set;for(;;)try{const n=await A(_),e=JSON.parse(n);if(console.log(e),!Array.isArray(e==null?void 0:e.data))break;let f=!1;for(let o of e.data)a.has(o.id)||(f=!0,i.push({postId:o.id,created_time:o.created_time,reactions_uid:(d=(l=o.reactions)==null?void 0:l.data)==null?void 0:d.map(y=>y.id),comments_uid:(m=(c=o.comments)==null?void 0:c.data)==null?void 0:m.map(y=>y.from.id)}),a.add(o.id));t==null||t(i);const g=(p=e==null?void 0:e.paging)==null?void 0:p.next;if(!f||i.length>=s||g===_||r!=null&&r())break;_=g,await I(1e3)}catch(n){console.log(n);break}return console.log(i),i}export{w as a,S as b,k as g};
