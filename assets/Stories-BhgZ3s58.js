import{aq as i}from"./index-BHXKmVCz.js";import{a as l,S as u,K as x}from"./MyApp-D3s3_HYi.js";import{C as f}from"./Collection-CVY6RAuW.js";import{i as h}from"./icons-BmCbArao.js";import{g as v,a as y}from"./stories-ByqAUfHX.js";import{L as j}from"./index-GzAVUdJD.js";import{I as b}from"./index-nJNM8QwN.js";import{T as a}from"./index-uWdICvcO.js";import"./index-Dg4juIYI.js";import"./file-download-B61gr9qz.js";import"./useCacheState-qfQNn3s9.js";import"./index-qnrgCfZc.js";import"./Dropdown-DWNKdxI0.js";import"./PurePanel-1dmrI8F2.js";import"./index-C1WryKGC.js";import"./TextArea-HhZjAChj.js";import"./addEventListener-CT_OFR_m.js";import"./Pagination-B1Icb6rc.js";import"./useBreakpoint-D2os0tFA.js";import"./responsiveObserver-BlyeT88p.js";import"./row-QkvUEytR.js";import"./styleChecker-D0QDgsjO.js";function W({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:d}=await v(r==null?void 0:r.id);if(!s||!d)return[];const n=await y(s);return console.log("bucket",n),n},p=(o,t)=>i.jsx(j.Item,{children:i.jsxs(u,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[x(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:h.IGVideo})]})}),m=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:p,downloadItem:m,rowKey:o=>o.id,once:!0})}export{W as default};
