import{r,E as X,F as K,H as q,D as le,q as ce,I as L,aE as de,a6 as Q,n as I,G as pe,O as ge,Q as U,X as ue,t as me}from"./index-DK9VpK7Z.js";import{R as ve,as as fe,aw as he,h as ye,at as Ce,ax as Se,e as be,T as xe}from"./MyApp-BHD6VW6n.js";import{a as Oe,r as Pe}from"./useBreakpoint-D3UHp-M0.js";const G=r.createContext({}),$e=e=>{const{antCls:n,componentCls:o,iconCls:t,avatarBg:a,avatarColor:i,containerSize:d,containerSizeLG:u,containerSizeSM:p,textFontSize:v,textFontSizeLG:f,textFontSizeSM:P,borderRadius:m,borderRadiusLG:g,borderRadiusSM:b,lineWidth:C,lineType:j}=e,s=(x,S,N)=>({width:x,height:x,borderRadius:"50%",[`&${o}-square`]:{borderRadius:N},[`&${o}-icon`]:{fontSize:S,[`> ${t}`]:{margin:0}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},q(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:i,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${le(C)} ${j} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),s(d,v,m)),{"&-lg":Object.assign({},s(u,f,g)),"&-sm":Object.assign({},s(p,P,b)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ee=e=>{const{componentCls:n,groupBorderColor:o,groupOverlapping:t,groupSpace:a}=e;return{[`${n}-group`]:{display:"inline-flex",[`${n}`]:{borderColor:o},"> *:not(:first-child)":{marginInlineStart:t}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:a}}}},ze=e=>{const{controlHeight:n,controlHeightLG:o,controlHeightSM:t,fontSize:a,fontSizeLG:i,fontSizeXL:d,fontSizeHeading3:u,marginXS:p,marginXXS:v,colorBorderBg:f}=e;return{containerSize:n,containerSizeLG:o,containerSizeSM:t,textFontSize:Math.round((i+d)/2),textFontSizeLG:u,textFontSizeSM:a,groupSpace:v,groupOverlapping:-p,groupBorderColor:f}},Y=X("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:o}=e,t=K(e,{avatarBg:o,avatarColor:n});return[$e(t),Ee(t)]},ze);var we=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const je=(e,n)=>{const[o,t]=r.useState(1),[a,i]=r.useState(!1),[d,u]=r.useState(!0),p=r.useRef(null),v=r.useRef(null),f=ce(n,p),{getPrefixCls:P,avatar:m}=r.useContext(L),g=r.useContext(G),b=()=>{if(!v.current||!p.current)return;const h=v.current.offsetWidth,y=p.current.offsetWidth;if(h!==0&&y!==0){const{gap:w=4}=e;w*2<y&&t(y-w*2<h?(y-w*2)/h:1)}};r.useEffect(()=>{i(!0)},[]),r.useEffect(()=>{u(!0),t(1)},[e.src]),r.useEffect(b,[e.gap]);const C=()=>{const{onError:h}=e;(h==null?void 0:h())!==!1&&u(!1)},{prefixCls:j,shape:s,size:x,src:S,srcSet:N,icon:E,className:_,rootClassName:M,alt:R,draggable:z,children:$,crossOrigin:B}=e,l=we(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),c=de(h=>{var y,w;return(w=(y=x??(g==null?void 0:g.size))!==null&&y!==void 0?y:h)!==null&&w!==void 0?w:"default"}),k=Object.keys(typeof c=="object"?c||{}:{}).some(h=>["xs","sm","md","lg","xl","xxl"].includes(h)),W=Oe(k),F=r.useMemo(()=>{if(typeof c!="object")return{};const h=Pe.find(w=>W[w]),y=c[h];return y?{width:y,height:y,fontSize:y&&(E||$)?y/2:18}:{}},[W,c]),O=P("avatar",j),V=Q(O),[te,ne,oe]=Y(O,V),re=I({[`${O}-lg`]:c==="large",[`${O}-sm`]:c==="small"}),H=r.isValidElement(S),ae=s||(g==null?void 0:g.shape)||"circle",se=I(O,re,m==null?void 0:m.className,`${O}-${ae}`,{[`${O}-image`]:H||S&&d,[`${O}-icon`]:!!E},oe,V,_,M,ne),ie=typeof c=="number"?{width:c,height:c,fontSize:E?c/2:18}:{};let T;if(typeof S=="string"&&d)T=r.createElement("img",{src:S,draggable:z,srcSet:N,onError:C,alt:R,crossOrigin:B});else if(H)T=S;else if(E)T=E;else if(a||o!==1){const h=`scale(${o})`,y={msTransform:h,WebkitTransform:h,transform:h};T=r.createElement(ve,{onResize:b},r.createElement("span",{className:`${O}-string`,ref:v,style:Object.assign({},y)},$))}else T=r.createElement("span",{className:`${O}-string`,style:{opacity:0},ref:v},$);return delete l.onError,delete l.gap,te(r.createElement("span",Object.assign({},l,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ie),F),m==null?void 0:m.style),l.style),className:se,ref:f}),T))},Z=r.forwardRef(je),A=e=>e?typeof e=="function"?e():e:null,Ne=e=>{const{componentCls:n,popoverColor:o,titleMinWidth:t,fontWeightStrong:a,innerPadding:i,boxShadowSecondary:d,colorTextHeading:u,borderRadiusLG:p,zIndexPopup:v,titleMarginBottom:f,colorBgElevated:P,popoverBg:m,titleBorderBottom:g,innerContentPadding:b,titlePadding:C}=e;return[{[n]:Object.assign(Object.assign({},q(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:v,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":P,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:m,backgroundClip:"padding-box",borderRadius:p,boxShadow:d,padding:i},[`${n}-title`]:{minWidth:t,marginBottom:f,color:u,fontWeight:a,borderBottom:g,padding:C},[`${n}-inner-content`]:{color:o,padding:b}})},fe(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Be=e=>{const{componentCls:n}=e;return{[n]:he.map(o=>{const t=e[`${o}6`];return{[`&${n}-${o}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},ke=e=>{const{lineWidth:n,controlHeight:o,fontHeight:t,padding:a,wireframe:i,zIndexPopupBase:d,borderRadiusLG:u,marginXS:p,lineType:v,colorSplit:f,paddingSM:P}=e,m=o-t,g=m/2,b=m/2-n,C=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:d+30},ye(e)),Ce({contentRadius:u,limitVerticalRadius:!0})),{innerPadding:i?0:12,titleMarginBottom:i?0:p,titlePadding:i?`${g}px ${C}px ${b}px`:0,titleBorderBottom:i?`${n}px ${v} ${f}`:"none",innerContentPadding:i?`${P}px ${C}px`:0})},J=X("Popover",e=>{const{colorBgElevated:n,colorText:o}=e,t=K(e,{popoverBg:n,popoverColor:o});return[Ne(t),Be(t),pe(t,"zoom-big")]},ke,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Ie=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Re=(e,n,o)=>!n&&!o?null:r.createElement(r.Fragment,null,n&&r.createElement("div",{className:`${e}-title`},A(n)),r.createElement("div",{className:`${e}-inner-content`},A(o))),Te=e=>{const{hashId:n,prefixCls:o,className:t,style:a,placement:i="top",title:d,content:u,children:p}=e;return r.createElement("div",{className:I(n,o,`${o}-pure`,`${o}-placement-${i}`,t),style:a},r.createElement("div",{className:`${o}-arrow`}),r.createElement(Se,Object.assign({},e,{className:n,prefixCls:o}),p||Re(o,d,u)))},_e=e=>{const{prefixCls:n,className:o}=e,t=Ie(e,["prefixCls","className"]),{getPrefixCls:a}=r.useContext(L),i=a("popover",n),[d,u,p]=J(i);return d(r.createElement(Te,Object.assign({},t,{prefixCls:i,hashId:u,className:I(o,p)})))};var Me=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const We=e=>{let{title:n,content:o,prefixCls:t}=e;return r.createElement(r.Fragment,null,n&&r.createElement("div",{className:`${t}-title`},A(n)),r.createElement("div",{className:`${t}-inner-content`},A(o)))},Ae=r.forwardRef((e,n)=>{var o,t;const{prefixCls:a,title:i,content:d,overlayClassName:u,placement:p="top",trigger:v="hover",children:f,mouseEnterDelay:P=.1,mouseLeaveDelay:m=.1,onOpenChange:g,overlayStyle:b={}}=e,C=Me(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:j}=r.useContext(L),s=j("popover",a),[x,S,N]=J(s),E=j(),_=I(u,S,N),[M,R]=be(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),z=(l,c)=>{R(l,!0),g==null||g(l,c)},$=l=>{l.keyCode===ue.ESC&&z(!1,l)},B=l=>{z(l)};return x(r.createElement(xe,Object.assign({placement:p,trigger:v,mouseEnterDelay:P,mouseLeaveDelay:m,overlayStyle:b},C,{prefixCls:s,overlayClassName:_,ref:n,open:M,onOpenChange:B,overlay:i||d?r.createElement(We,{prefixCls:s,title:i,content:d}):null,transitionName:ge(E,"zoom-big",C.transitionName),"data-popover-inject":!0}),U(f,{onKeyDown:l=>{var c,k;r.isValidElement(f)&&((k=f==null?void 0:(c=f.props).onKeyDown)===null||k===void 0||k.call(c,l)),$(l)}})))}),ee=Ae;ee._InternalPanelDoNotUseOrYouWillBeFired=_e;const D=e=>{const{size:n,shape:o}=r.useContext(G),t=r.useMemo(()=>({size:e.size||n,shape:e.shape||o}),[e.size,e.shape,n,o]);return r.createElement(G.Provider,{value:t},e.children)},Le=e=>{var n,o,t;const{getPrefixCls:a,direction:i}=r.useContext(L),{prefixCls:d,className:u,rootClassName:p,style:v,maxCount:f,maxStyle:P,size:m,shape:g,maxPopoverPlacement:b,maxPopoverTrigger:C,children:j,max:s}=e,x=a("avatar",d),S=`${x}-group`,N=Q(x),[E,_,M]=Y(x,N),R=I(S,{[`${S}-rtl`]:i==="rtl"},M,N,u,p,_),z=me(j).map((l,c)=>U(l,{key:`avatar-key-${c}`})),$=(s==null?void 0:s.count)||f,B=z.length;if($&&$<B){const l=z.slice(0,$),c=z.slice($,B),k=(s==null?void 0:s.style)||P,W=((n=s==null?void 0:s.popover)===null||n===void 0?void 0:n.trigger)||C||"hover",F=((o=s==null?void 0:s.popover)===null||o===void 0?void 0:o.placement)||b||"top",O=Object.assign(Object.assign({content:c},s==null?void 0:s.popover),{overlayClassName:I(`${S}-popover`,(t=s==null?void 0:s.popover)===null||t===void 0?void 0:t.overlayClassName),placement:F,trigger:W});return l.push(r.createElement(ee,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},O),r.createElement(Z,{style:k},`+${B-$}`))),E(r.createElement(D,{shape:g,size:m},r.createElement("div",{className:R,style:v},l)))}return E(r.createElement(D,{shape:g,size:m},r.createElement("div",{className:R,style:v},z)))},Fe=Z;Fe.Group=Le;export{Fe as A,ee as P,_e as a,A as g};
