import{C as d,D as f,O as y,E as M}from"./MyApp-CDv-rFzA.js";async function C(o=""){var e,l,i,s,u,c;const r=await d({fb_api_req_friendly_name:"CometGroupMembersAdminsRootQuery",variables:{groupID:o,scale:2},doc_id:"8138328892873449"}),a=f(r);console.log(a);const t=((e=a==null?void 0:a.data)==null?void 0:e.group)||{};return{groupId:o||"",adminCount:((l=t==null?void 0:t.admin_and_moderator_profiles)==null?void 0:l.count)||0,memberCount:((i=t==null?void 0:t.all_active_members)==null?void 0:i.count)||((s=t==null?void 0:t.group_member_profiles)==null?void 0:s.count)||0,adminProfiles:(c=(u=t==null?void 0:t.group_admin_profiles)==null?void 0:u.edges)==null?void 0:c.map(n=>{var _,m,b,E,p,N;return{uid:(_=n==null?void 0:n.node)==null?void 0:_.id,name:(m=n==null?void 0:n.node)==null?void 0:m.name,avatar:(E=(b=n==null?void 0:n.node)==null?void 0:b.profile_picture)==null?void 0:E.uri,url:(p=n==null?void 0:n.node)==null?void 0:p.url,verified:(N=n==null?void 0:n.node)==null?void 0:N.is_verified}})}}async function D({uid:o="",cursor:r}){const a=await d({fb_api_req_friendly_name:"ProfileCometAppCollectionGridRendererPaginationQuery",variables:{count:8,cursor:r??null,id:btoa(`app_collection:${o||await y()}:2361831622:66`)},doc_id:"5244211935648733"}),t=f(a);console.log(t);const{edges:e=[],page_info:l={}}=M(t);return e.map(i=>{var s,u,c,n,_;return{id:((s=i.node.node)==null?void 0:s.id)||atob(i.node.id).split(":").at(-1),name:i.node.title.text,description:(n=(c=(u=i.node.subtitle_text)==null?void 0:u.text)==null?void 0:c.split(`
`))==null?void 0:n[1],url:i.node.url,visibility:i.node.node.visibility,image:i.node.image.uri,membersCount:Number((((_=i.node.subtitle_text.text.split(`
`))==null?void 0:_[0])||"").match(/\d+/g).join("")??1),cursor:i.cursor}})}var G=(o=>(o.NONE="NONE",o.TOP_LEVEL_GROUP="TOP_LEVEL_GROUP",o))(G||{}),O=(o=>(o.NOT_JOINED="NOT_JOINED",o.PENDING="PENDING",o.MEMBER="MEMBER",o.ADMIN="ADMIN",o))(O||{});function v(o,r="MEMBER"){var a,t,e,l,i,s,u,c,n;return{id:(a=o==null?void 0:o.node)==null?void 0:a.id,name:(t=o==null?void 0:o.node)==null?void 0:t.name,avatar:(l=(e=o==null?void 0:o.node)==null?void 0:e.profile_picture)==null?void 0:l.uri,url:(i=o==null?void 0:o.node)==null?void 0:i.url,lastVisitedTime:(((s=o==null?void 0:o.node)==null?void 0:s.viewer_last_visited_time)||((u=o==null?void 0:o.node)==null?void 0:u.viewer_request_to_join_timestamp)||((c=o==null?void 0:o.node)==null?void 0:c.last_post_time)||0)*1e3,userType:r,cursor:o==null?void 0:o.cursor,subspaceType:((n=o==null?void 0:o.node)==null?void 0:n.subspace_type)||"NONE"}}async function P({cursor:o="",ordering:r=["viewer_added"]}={}){var i,s,u,c;if(!o){const n=await d({fb_api_req_friendly_name:"GroupsCometJoinsRootQuery",variables:{ordering:r,scale:2},doc_id:"6985470494844388"}),_=f(n),m=[],{pending_groups:b={},all_joined_groups:E={}}=((i=_==null?void 0:_.data)==null?void 0:i.viewer)||{};return(s=b.edges)==null||s.forEach(p=>{m.push(v(p,"PENDING"))}),(c=(u=E.tab_groups_list)==null?void 0:u.edges)==null||c.forEach(p=>{m.push(v(p,"MEMBER"))}),console.log(_),m}const a=await d({fb_api_req_friendly_name:"GroupsCometAllJoinedGroupsSectionPaginationQuery",variables:{cursor:o||null,ordering:r,count:20,scale:2},doc_id:"6009728632468556"}),t=f(a);console.log(t);const{edges:e=[],page_info:l={}}=M(t);return e.map(n=>v(n,"MEMBER"))}async function R({cursor:o=""}={}){var l;const r=await d({variables:{adminGroupsCount:1e3,memberGroupsCount:0,scale:1.5},doc_id:"4868264159917793"}),a=f(r);console.log(a);const{edges:t=[],page_info:e={}}=M((l=a==null?void 0:a.data)==null?void 0:l.adminGroups);return t.map(i=>v(i,"ADMIN"))}async function h(o=""){var t;const r=await d({fb_api_req_friendly_name:"useGroupLeaveMutation",variables:{input:{group_id:o,readd_policy:"ALLOW_READD",source:"comet_group_page",actor_id:await y(),client_mutation_id:"1"},groupID:o},doc_id:"2018579381571489"}),a=f(r);return console.log(a),((t=a==null?void 0:a.data)==null?void 0:t.group_leave)!=null}export{G as S,O as U,P as a,C as b,D as c,R as g,h as l};
