import{ap as i}from"./index-C18KX0bs.js";import{a as l,a1 as u,a2 as x,S as h,a3 as v}from"./MyApp-134z9Ewy.js";import{C as f}from"./Collection-QeN2AZhW.js";import{i as y}from"./icons-DnRnthlg.js";import{L as j}from"./index-nNXs6R-b.js";import{I as b}from"./index-BjdokYoc.js";import{T as a}from"./index-C09uftll.js";import"./index-B2IKIyJF.js";import"./file-download-BhOYhnZo.js";import"./useCacheState-B5EIi5AM.js";import"./index-Bb3Gxkrc.js";import"./Dropdown--WaCZpHb.js";import"./PurePanel-B-Oik-oK.js";import"./index-DBmoidCd.js";import"./TextArea-v2wMscgk.js";import"./addEventListener-Bvk7TFEG.js";import"./Pagination-CDZtfPwT.js";import"./row-CrycN8YO.js";import"./styleChecker-D5cZZSfU.js";function P({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:m}=await u(r==null?void 0:r.id);if(!s||!m)return[];const n=await x(s);return console.log("bucket",n),n},d=(o,t)=>i.jsx(j.Item,{children:i.jsxs(h,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[v(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:y.IGVideo})]})}),p=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:d,downloadItem:p,rowKey:o=>o.id,once:!0})}export{P as default};
