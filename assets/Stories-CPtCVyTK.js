import{aq as i}from"./index-CiUWOVnT.js";import{a as l,S as u,K as x}from"./MyApp-CSAMsYNo.js";import{C as f}from"./Collection-fxTUuqUk.js";import{i as h}from"./icons-Cc4vCZva.js";import{g as v,a as y}from"./stories-DHdr46F9.js";import{L as j}from"./index-qNPDJF4G.js";import{I as b}from"./index-DYhqHgnY.js";import{T as a}from"./index-Drn6P3uZ.js";import"./index-DFs1S1fI.js";import"./file-download-BQLzY1By.js";import"./useCacheState-CshvC5SH.js";import"./index-DI0YYMRi.js";import"./Dropdown-CqPGcrkc.js";import"./PurePanel-CL192Gbs.js";import"./index-DPtMTd6b.js";import"./TextArea-C8RwuKiT.js";import"./addEventListener-CO-NmIOH.js";import"./Pagination-CsZDPWiE.js";import"./useBreakpoint-Biy8e67G.js";import"./responsiveObserver-eRqqnUkT.js";import"./row-CD2JDyM7.js";import"./styleChecker-DrkA_zFw.js";function W({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:d}=await v(r==null?void 0:r.id);if(!s||!d)return[];const n=await y(s);return console.log("bucket",n),n},p=(o,t)=>i.jsx(j.Item,{children:i.jsxs(u,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[x(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:h.IGVideo})]})}),m=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:p,downloadItem:m,rowKey:o=>o.id,once:!0})}export{W as default};
