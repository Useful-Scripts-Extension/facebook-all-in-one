const __vite__fileDeps=["./RecentStoryViewer-B0MouPmW.js","./index-DK9VpK7Z.js","./index-BM_p-30O.css","./MyApp-BHD6VW6n.js","./StoryViewers-BKpd2ySj.js","./Collection-D_5id6rP.js","./index-ux3d5fbP.js","./file-download-DObqyEDW.js","./useCacheState-B8xTfoxV.js","./index-BjwtQS8J.js","./Dropdown-CDem9SrW.js","./PurePanel-F8yUCVM9.js","./index-Ch48yAb_.js","./TextArea-Dam_UsLU.js","./addEventListener-DnrojY7_.js","./index-DlqXPYre.js","./Pagination-DofX7tu3.js","./useBreakpoint-D3UHp-M0.js","./row-TMJJSMo1.js","./index-CLcfezOx.js","./styleChecker-DFOfC8TH.js","./index-ZPvaunNs.js","./index-Cg-fKe13.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as i,aq as o,au as m}from"./index-DK9VpK7Z.js";import{t as d,aE as c,aF as l,D as u,a1 as g,aG as x}from"./MyApp-BHD6VW6n.js";import{C as b}from"./Collection-D_5id6rP.js";import{L as h}from"./index-DlqXPYre.js";import{I as f}from"./index-Cg-fKe13.js";import{A as y}from"./index-ZPvaunNs.js";import{T as w}from"./index-CLcfezOx.js";import"./index-ux3d5fbP.js";import"./file-download-DObqyEDW.js";import"./useCacheState-B8xTfoxV.js";import"./index-BjwtQS8J.js";import"./Dropdown-CDem9SrW.js";import"./PurePanel-F8yUCVM9.js";import"./index-Ch48yAb_.js";import"./TextArea-Dam_UsLU.js";import"./addEventListener-DnrojY7_.js";import"./Pagination-DofX7tu3.js";import"./useBreakpoint-D3UHp-M0.js";import"./row-TMJJSMo1.js";import"./styleChecker-DFOfC8TH.js";const v=i.lazy(()=>m(()=>import("./RecentStoryViewer-B0MouPmW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url));function q(){i.useEffect(()=>{d("RecentStories:onLoad")},[]);const n=async(e,r)=>{var s;return await l(r||((s=e==null?void 0:e[e.length-1])==null?void 0:s.cursor)||"")},a=(e,r)=>o.jsx(h.Item,{children:o.jsxs(u.Ribbon,{text:e.stories.length,style:{opacity:e.stories.length>1?1:0},children:[o.jsx(f,{src:e.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:{destroyOnClose:!0,toolbarRender:()=>null,imageRender:()=>o.jsx(v,{story:e})}}),o.jsx(y,{src:e.owner.avatar,size:40,style:{position:"absolute",top:10,left:10,borderWidth:4,borderColor:"#0866FF"},onClick:()=>{window.open("https://fb.com/"+e.owner.id)}}),o.jsx("div",{style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%)",position:"absolute",bottom:0,left:0,padding:"5px 10px",width:"100%",paddingTop:"50px",pointerEvents:"none"},children:o.jsx(w.Text,{style:{color:"#eee"},children:e.owner.name})})]})}),p=async e=>(await g(e.bucked_id)).map((t,s)=>({name:x(e.owner.name)+(t.video?".mp4":".jpg"),url:t.video||t.image||t.thumbnail}));return o.jsx(b,{collectionName:"Recent Stories "+c(),fetchNext:n,renderItem:a,downloadItem:p,getItemCursor:e=>e==null?void 0:e.cursor,rowKey:e=>e.bucked_id})}export{q as default};
