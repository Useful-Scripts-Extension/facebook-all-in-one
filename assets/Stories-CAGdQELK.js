import{aq as i}from"./index-DK9VpK7Z.js";import{a as l,a0 as u,a1 as x,S as h,a2 as v}from"./MyApp-BHD6VW6n.js";import{C as f}from"./Collection-D_5id6rP.js";import{i as y}from"./icons-BwBNSS4u.js";import{L as j}from"./index-DlqXPYre.js";import{I as b}from"./index-Cg-fKe13.js";import{T as a}from"./index-CLcfezOx.js";import"./index-ux3d5fbP.js";import"./file-download-DObqyEDW.js";import"./useCacheState-B8xTfoxV.js";import"./index-BjwtQS8J.js";import"./Dropdown-CDem9SrW.js";import"./PurePanel-F8yUCVM9.js";import"./index-Ch48yAb_.js";import"./TextArea-Dam_UsLU.js";import"./addEventListener-DnrojY7_.js";import"./Pagination-DofX7tu3.js";import"./useBreakpoint-D3UHp-M0.js";import"./row-TMJJSMo1.js";import"./styleChecker-DFOfC8TH.js";function P({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:m}=await u(r==null?void 0:r.id);if(!s||!m)return[];const n=await x(s);return console.log("bucket",n),n},d=(o,t)=>i.jsx(j.Item,{children:i.jsxs(h,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[v(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:y.IGVideo})]})}),p=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:d,downloadItem:p,rowKey:o=>o.id,once:!0})}export{P as default};
