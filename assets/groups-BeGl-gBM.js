import{p,U as N,q as b}from"./MyApp-C1Cge4LI.js";async function G({groupId:o}){var a,e,u,r,n,s;const i=await p({fb_api_req_friendly_name:"GroupsCometMembersRootQuery",variables:{groupID:o,recruitingGroupFilterNonCompliant:!1,scale:2},doc_id:"26783674461231929"}),t=JSON.parse(i);return((u=(e=(a=t==null?void 0:t.data)==null?void 0:a.group)==null?void 0:e.all_active_members)==null?void 0:u.count)||((s=(n=(r=t==null?void 0:t.data)==null?void 0:r.group)==null?void 0:n.group_member_profiles)==null?void 0:s.count)||0}async function D({uid:o="",cursor:i}){const t=await p({fb_api_req_friendly_name:"ProfileCometAppCollectionGridRendererPaginationQuery",variables:{count:8,cursor:i??null,id:btoa(`app_collection:${o||await N()}:2361831622:66`)},doc_id:"5244211935648733"}),a=JSON.parse(t);console.log(a);const{edges:e=[],page_info:u={}}=b(a)||{};return e.map(r=>{var n,s,c,l,_;return{id:((n=r.node.node)==null?void 0:n.id)||atob(r.node.id).split(":").at(-1),name:r.node.title.text,description:(l=(c=(s=r.node.subtitle_text)==null?void 0:s.text)==null?void 0:c.split(`
`))==null?void 0:l[1],url:r.node.url,visibility:r.node.node.visibility,image:r.node.image.uri,membersCount:Number((((_=r.node.subtitle_text.text.split(`
`))==null?void 0:_[0])||"").match(/\d+/g).join("")??1),cursor:r.cursor}})}var E=(o=>(o.NOT_JOINED="NOT_JOINED",o.PENDING="PENDING",o.MEMBER="MEMBER",o.ADMIN="ADMIN",o))(E||{});function m(o,i="MEMBER"){var t,a,e,u,r,n,s,c;return{id:(t=o==null?void 0:o.node)==null?void 0:t.id,name:(a=o==null?void 0:o.node)==null?void 0:a.name,avatar:(u=(e=o==null?void 0:o.node)==null?void 0:e.profile_picture)==null?void 0:u.uri,url:(r=o==null?void 0:o.node)==null?void 0:r.url,lastVisitedTime:(((n=o==null?void 0:o.node)==null?void 0:n.viewer_last_visited_time)||((s=o==null?void 0:o.node)==null?void 0:s.viewer_request_to_join_timestamp)||((c=o==null?void 0:o.node)==null?void 0:c.last_post_time)||0)*1e3,userType:i,cursor:o==null?void 0:o.cursor}}async function J({cursor:o="",ordering:i=["viewer_added"]}={}){var r,n,s,c;if(!o){const l=await p({fb_api_req_friendly_name:"GroupsCometJoinsRootQuery",variables:{ordering:i,scale:2},doc_id:"6985470494844388"}),_=JSON.parse(l),d=[],{pending_groups:M={},all_joined_groups:v={}}=((r=_==null?void 0:_.data)==null?void 0:r.viewer)||{};return(n=M.edges)==null||n.forEach(f=>{d.push(m(f,"PENDING"))}),(c=(s=v.tab_groups_list)==null?void 0:s.edges)==null||c.forEach(f=>{d.push(m(f,"MEMBER"))}),d}const t=await p({fb_api_req_friendly_name:"GroupsCometAllJoinedGroupsSectionPaginationQuery",variables:{cursor:o||null,ordering:i,count:20,scale:2},doc_id:"6009728632468556"}),a=JSON.parse(t);console.log(a);const{edges:e=[],page_info:u={}}=b(a)||{};return e.map(l=>m(l,"MEMBER"))}async function O({cursor:o=""}={}){var u;const i=await p({variables:{adminGroupsCount:1e3,memberGroupsCount:0,scale:1.5},doc_id:"4868264159917793"}),t=JSON.parse(i);console.log(t);const{edges:a=[],page_info:e={}}=b((u=t==null?void 0:t.data)==null?void 0:u.adminGroups)||{};return a.map(r=>m(r,"ADMIN"))}async function w(o=""){var a;const i=await p({fb_api_req_friendly_name:"useGroupLeaveMutation",variables:{input:{group_id:o,readd_policy:"ALLOW_READD",source:"comet_group_page",actor_id:await N(),client_mutation_id:"6"},groupID:o},doc_id:"2018579381571489"}),t=JSON.parse(i);return console.log(t),((a=t==null?void 0:t.data)==null?void 0:a.group_leave)!=null}export{E as U,J as a,D as b,G as c,O as g,w as l};
