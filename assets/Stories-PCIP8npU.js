import{aq as i}from"./index-DIq5bgLX.js";import{a as l,S as u,K as x}from"./MyApp-MiOxcIdU.js";import{C as f}from"./Collection-LDxb92Bd.js";import{i as h}from"./icons-CCqsdXVl.js";import{g as v,a as y}from"./stories-ChUewDET.js";import{L as j}from"./index-DoRELR-6.js";import{I as b}from"./index-DAVJbk9H.js";import{T as a}from"./index-BbvbHeDH.js";import"./index-R4kZvd-z.js";import"./file-download-BAVwK8SC.js";import"./useCacheState-BGfzTj7R.js";import"./index-C_eP70Gq.js";import"./Dropdown-mqs4Afzo.js";import"./PurePanel-CmkTJSAT.js";import"./index-DAXXZz2T.js";import"./TextArea-CAjRjfaX.js";import"./addEventListener-3oSyDV2P.js";import"./Pagination-CCda05l4.js";import"./useBreakpoint-DVjXUw1O.js";import"./responsiveObserver-DiKIXTRH.js";import"./row-DBSFeXDE.js";import"./styleChecker-DjVX5rm6.js";function W({target:r}){const{ti:e}=l(),c=async(o=[],t)=>{if(!(r!=null&&r.id))return;const{bucketId:s,firstStoryId:d}=await v(r==null?void 0:r.id);if(!s||!d)return[];const n=await y(s);return console.log("bucket",n),n},p=(o,t)=>i.jsx(j.Item,{children:i.jsxs(u,{direction:"vertical",style:{position:"relative"},children:[i.jsx(b,{src:o.image,fallback:o.thumbnail,style:{width:160,height:270,borderRadius:10,objectFit:"cover"},preview:o.video?{destroyOnClose:!0,imageRender:()=>i.jsx("video",{loop:!0,autoPlay:!0,controls:!0,src:o.video,style:{maxWidth:"80vw",maxHeight:"80vh"}}),toolbarRender:()=>null}:void 0}),i.jsxs(a.Text,{children:[x(o.creation_time*1e3,e)," ",e({vi:"trước",en:"ago"}),i.jsx("br",{}),o.react_count," reactions ",o.reaction]}),o.caption&&i.jsx(a.Text,{children:o.caption}),o.video&&i.jsx("div",{style:{position:"absolute",top:10,right:10,pointerEvents:"none"},children:h.IGVideo})]})}),m=async(o,t)=>({name:o.id+(o.video?".mp4":".jpg"),url:o.video||o.image});return i.jsx(f,{collectionName:(r==null?void 0:r.name)+" - Stories",fetchNext:c,renderItem:p,downloadItem:m,rowKey:o=>o.id,once:!0})}export{W as default};
